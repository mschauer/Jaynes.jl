<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Metropolis-Hastings · Jaynes.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Jaynes.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Jaynes.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../concepts/">Concepts</a></li><li><a class="tocitem" href="../../modeling_lang/">Modeling language</a></li><li><a class="tocitem" href="../../examples/">Examples</a></li><li><a class="tocitem" href="../../architecture/">Architecture</a></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library_api/sites/">Traces, choices, and call sites</a></li><li><a class="tocitem" href="../../library_api/contexts/">Execution contexts</a></li><li><a class="tocitem" href="../../library_api/selection_interface/">Selection interface</a></li><li><input class="collapse-toggle" id="menuitem-6-4" type="checkbox" checked/><label class="tocitem" for="menuitem-6-4"><span class="docs-label">Inference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../is/">Importance sampling</a></li><li class="is-active"><a class="tocitem" href>Metropolis-Hastings</a></li><li><a class="tocitem" href="../pf/">Particle filtering</a></li><li><a class="tocitem" href="../vi/">Automatic differentiation variational inference</a></li></ul></li><li><a class="tocitem" href="../../library_api/fmi/">Foreign model interface</a></li><li><a class="tocitem" href="../../library_api/diff_prog/">Differentiable programming</a></li></ul></li><li><a class="tocitem" href="../../related_work/">Related work</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li><a class="is-disabled">Inference</a></li><li class="is-active"><a href>Metropolis-Hastings</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Metropolis-Hastings</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/femtomc/Jaynes.jl/blob/master/docs/src/inference/mh.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-binding" id="Jaynes.metropolis_hastings" href="#Jaynes.metropolis_hastings"><code>Jaynes.metropolis_hastings</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">call, accepted, metropolis_hastings(call::HierarchicalCallSite,
                                    sel::UnconstrainedSelection)</code></pre><p>Perform a Metropolis-Hastings step by proposing new choices using the prior at addressed specified by <code>sel</code>. Returns a call site, as well as a Boolean value <code>accepted</code> to indicate if the proposal was accepted or rejected.</p><pre><code class="language-julia">call, accepted = metropolis_hastings(call::HierarchicalCallSite,
                                     proposal::Function,
                                     proposal_args::Tuple,
                                     sel::UnconstrainedSelection)</code></pre><p>Perform a Metropolis-Hastings step by proposing new choices using a custom proposal at addressed specified by <code>sel</code>. Returns a call site, as well as a Boolean value <code>accepted</code> to indicate if the proposal was accepted or rejected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtomc/Jaynes.jl/blob/70b5907122b2b80e1929e832f1f4ac09482e2fef/src/inference.jl#L80-L96">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Similar to custom proposals for particle filtering, a custom proposal passed to <code>metropolis_hastings</code> should accept an instance of <code>CallSite</code> as the first argument, followed by the other proposal arguments.</p><p>Additionally, if the proposal proposes to addresses which modify the control flow of the original call, it must also provide proposal choice sites for any addressed which exist on that branch of the original model. If this criterion is not satisfied, the kernel is not stationary with respect to the target posterior of the model.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../is/">« Importance sampling</a><a class="docs-footer-nextpage" href="../pf/">Particle filtering »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 17 July 2020 05:13">Friday 17 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
